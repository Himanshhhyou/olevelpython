<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Python Code Viewer</title>

  <!-- Highlight.js Theme -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    body {
      color: #363636;
      background-color: #f9f9f9;
    }

    .sidebar {
      transition: transform 0.3s ease;
    }

    .fade-in {
      animation: fadeIn 0.5s ease-in;
    }

    .code-output-container {
      display: flex;
      flex-direction: column;
      width: 100%;
      border-radius: 0.5rem;
      overflow: hidden;
      background: #fdfdfd;
      border: 1px solid #ddd;
    }

    .code-block-wrapper {
      display: flex;
      width: 100%;
      overflow-x: auto;
    }

    .line-numbers {
      user-select: none;
      padding: 1rem 0.5rem;
      color: #6b7280;
      background: #f3f3f3;
      text-align: right;
      border-right: 1px solid #ddd;
      min-width: 3rem;
    }

    pre.code {
      margin: 0;
      padding: 1rem;
      white-space: pre;
      flex: 1;
      overflow-x: auto;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }
  </style>
</head>

<body class="font-sans">

  <!-- Header -->
  <header class="bg-white text-gray-800 p-4 flex justify-between items-center shadow-md">
    <div class="flex items-center gap-2 text-lg font-bold">
      <i class="fas fa-code"></i> Python Code Viewer
    </div>
    <div class="flex items-center gap-3">
      <button id="menu-btn" class="text-2xl md:hidden p-2 rounded hover:bg-gray-200" onclick="toggleSidebar()">
        <i id="hamburger-icon" class="fas fa-bars"></i>
      </button>
    </div>
  </header>

  <!-- Overlay -->
  <div id="overlay" class="fixed inset-0 bg-black bg-opacity-25 hidden z-40" onclick="closeSidebar()"></div>

  <main class="flex flex-1">
    <!-- Sidebar -->
    <aside id="sidebar"
      class="sidebar w-72 bg-white border-r border-gray-300 p-4 flex flex-col gap-4 fixed md:static top-0 left-0 h-full z-50 -translate-x-full md:translate-x-0 overflow-y-auto">

      <!-- Tabs -->
      <div class="flex justify-between items-center p-1 rounded-lg">
        <button id="files-tab" class="flex-1 py-2 rounded-md bg-blue-500 text-white font-medium">Files</button>
        <button id="projects-tab" class="flex-1 py-2 rounded-md text-gray-700">Projects</button>
      </div>

      <!-- Search -->
      <input id="search-bar" type="text"
        class="p-2 border border-gray-400 rounded-lg bg-white text-gray-800 mt-2 focus:ring-2 focus:ring-blue-500"
        placeholder="Search files..." oninput="filterFiles(this.value)" />

      <!-- Files List -->
      <div id="files-section" class="file-list flex flex-col gap-2 max-h-[80vh] overflow-y-auto text-sm mt-2">
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('01_first.py')"><i class="fas fa-file-code"></i> 01_first.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('02_constant.py')"><i class="fas fa-file-code"></i> 02_constant.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('03_indentation.py')"><i class="fas fa-file-code"></i> 03_indentation.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('04_comment.py')"><i class="fas fa-file-code"></i> 04_comment.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('05_complex-num.py')"><i class="fas fa-file-code"></i> 05_complex-num.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('06_bool.py')"><i class="fas fa-file-code"></i> 06_bool.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('07_set.py')"><i class="fas fa-file-code"></i> 07_set.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('08_set-function.py')"><i class="fas fa-file-code"></i> 08_set-function.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('09_format.py')"><i class="fas fa-file-code"></i> 09_format.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('10_swap-variables.py')"><i class="fas fa-file-code"></i> 10_swap-variables.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('11_swap-variables-2.py')"><i class="fas fa-file-code"></i> 11_swap-variables-2.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('12_swap-variables-3.py')"><i class="fas fa-file-code"></i> 12_swap-variables-3.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('13_list.py')"><i class="fas fa-file-code"></i> 13_list.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('14_tuple.py')"><i class="fas fa-file-code"></i> 14_tuple.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('15_dict.py')"><i class="fas fa-file-code"></i> 15_dict.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('16_input.py')"><i class="fas fa-file-code"></i> 16_input.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('17_eval.py')"><i class="fas fa-file-code"></i> 17_eval.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('18_min-max.py')"><i class="fas fa-file-code"></i> 18_min-max.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('19_print.py')"><i class="fas fa-file-code"></i> 19_print.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('20_print-2.py')"><i class="fas fa-file-code"></i> 20_print-2.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('21_escape-seq.py')"><i class="fas fa-file-code"></i> 21_escape-seq.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('22_dec2bin.py')"><i class="fas fa-file-code"></i> 22_dec2bin.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('23_calendar.py')"><i class="fas fa-file-code"></i> 23_calendar.py</div>
      </div>

      <!-- Projects List -->
      <div id="projects-section" class="hidden flex flex-col gap-2 max-h-[80vh] overflow-y-auto text-sm mt-2">
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('c2f.py')"><i class="fas fa-file-code"></i> c2f.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('color.py')"><i class="fas fa-file-code"></i> color.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('color-2.py')"><i class="fas fa-file-code"></i> color-2.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('name2bin.py')"><i class="fas fa-file-code"></i> name2bin.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('rock-paper-scissor.py')"><i class="fas fa-file-code"></i> rock-paper-scissor.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('simpleInterest.py')"><i class="fas fa-file-code"></i> simpleInterest.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('python-shop.py')"><i class="fas fa-file-code"></i> python-shop.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('next-alpha.py')"><i class="fas fa-file-code"></i> next-alpha.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('quadratic-eq.py')"><i class="fas fa-file-code"></i> quadratic-eq.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('first10natural.py')"><i class="fas fa-file-code"></i> first10natural.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('reverse_num.py')"><i class="fas fa-file-code"></i> reverse-num.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('gcd.py')"><i class="fas fa-file-code"></i> gcd.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('armstrong_num.py')"><i class="fas fa-file-code"></i> armstrong-num.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('fibonacci_series.py')"><i class="fas fa-file-code"></i> fibonacci-series.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('prime-number.py')"><i class="fas fa-file-code"></i> prime-number.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('pattern-1.py')"><i class="fas fa-file-code"></i> pattern-1.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('pattern-2.py')"><i class="fas fa-file-code"></i> pattern-2.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('pattern-3.py')"><i class="fas fa-file-code"></i> pattern-3.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('diamond.py')"><i class="fas fa-file-code"></i> diamond.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('email_check.py')"><i class="fas fa-file-code"></i> email_check.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('indian_mobileNo-check.py')"><i class="fas fa-file-code"></i> indian_mobileNo-check.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('password_check.py')"><i class="fas fa-file-code"></i> password_check.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('pan_number-check.py')"><i class="fas fa-file-code"></i> pan_number-check.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('birthday_check.py')"><i class="fas fa-file-code"></i> birthday-check.py</div>
        <div class="file-item p-2 flex items-center gap-2 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-500 hover:text-white" onclick="loadCode('number-guess-game.py')"><i class="fas fa-file-code"></i> number-guess-game.py</div>


      </div>
    </aside>

    <!-- Content -->
    <section class="content flex-1 p-6 overflow-y-auto fade-in">
      <!-- Buttons -->
      <div class="flex justify-between items-center mb-4 flex-wrap gap-2">
        <div class="flex gap-2">
          <button id="copy-btn"
            class="p-2 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center gap-1"
            onclick="copyCode()">
            <i class="fas fa-copy"></i> Copy
          </button>

          <button id="download-btn"
            class="p-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 flex items-center gap-1"
            onclick="downloadCode()">
            <i class="fas fa-download"></i> Download
          </button>

          <!-- View Output removed/disabled -->
          <!-- <button id="view-btn" class="p-2 bg-gray-400 text-white rounded-lg cursor-not-allowed flex items-center gap-1" disabled>
            <i class="fas fa-eye"></i> View Output (Disabled)
          </button> -->
        </div>
      </div>

      <!-- Code Display -->
      <div class="code-output-container">
        <div class="code-block-wrapper">
          <pre class="line-numbers" id="line-numbers"></pre>
          <pre><code id="code-block" class="code language-python"></code></pre>
        </div>
      </div>
    </section>
  </main>

  <!-- Highlight.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
  <script>
    let currentFilename = '';

    async function loadCode(filename) {
      try {
        const res = await fetch(filename);
        if (!res.ok) throw new Error("File not found");
        const text = await res.text();
        currentFilename = filename;

        const codeBlock = document.getElementById("code-block");
        const lineNumbers = document.getElementById("line-numbers");

        codeBlock.className = "code language-python";
        codeBlock.textContent = text;
        hljs.highlightElement(codeBlock);

        // Line numbers
        const lines = text.split('\n').length;
        lineNumbers.textContent = Array.from({ length: lines }, (_, i) => i + 1).join('\n');

      } catch (err) {
        document.getElementById("code-block").textContent = "⚠️ " + err.message;
        document.getElementById("line-numbers").textContent = "";
      }
    }

    function copyCode() {
      navigator.clipboard.writeText(document.getElementById("code-block").textContent);
    }

    function downloadCode() {
      if (!currentFilename) return;
      const blob = new Blob([document.getElementById("code-block").textContent], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = currentFilename;
      a.click();
      URL.revokeObjectURL(url);
    }

    function toggleSidebar() {
      const sidebar = document.getElementById("sidebar");
      const overlay = document.getElementById("overlay");
      const icon = document.getElementById("hamburger-icon");
      sidebar.classList.toggle("-translate-x-full");
      overlay.classList.toggle("hidden");
      icon.classList.toggle("fa-bars");
      icon.classList.toggle("fa-times");
    }

    function closeSidebar() {
      document.getElementById("sidebar").classList.add("-translate-x-full");
      document.getElementById("overlay").classList.add("hidden");
      document.getElementById("hamburger-icon").classList.add("fa-bars");
      document.getElementById("hamburger-icon").classList.remove("fa-times");
    }

    document.getElementById("files-tab").addEventListener("click", () => {
      document.getElementById("files-section").classList.remove("hidden");
      document.getElementById("projects-section").classList.add("hidden");
      document.getElementById("search-bar").style.display = "block";
      document.getElementById("files-tab").classList.add("bg-blue-500", "text-white");
      document.getElementById("projects-tab").classList.remove("bg-blue-500", "text-white");
    });

    document.getElementById("projects-tab").addEventListener("click", () => {
      document.getElementById("files-section").classList.add("hidden");
      document.getElementById("projects-section").classList.remove("hidden");
      document.getElementById("search-bar").style.display = "none";
      document.getElementById("projects-tab").classList.add("bg-blue-500", "text-white");
      document.getElementById("files-tab").classList.remove("bg-blue-500", "text-white");
    });

    function filterFiles(query) {
      document.querySelectorAll("#files-section .file-item").forEach(item => {
        item.style.display = item.textContent.toLowerCase().includes(query.toLowerCase()) ? "flex" : "none";
      });
    }
  </script>
</body>

</html>